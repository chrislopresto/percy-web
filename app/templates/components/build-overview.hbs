<div class="grid col-auto gap-1 align-center">
  {{! TODO: this needs a complete revamp to rely on build.reviewState and reviewStateReason. }}
  {{#if (or build.isPending build.isProcessing)}}
    {{inline-svg "loader-icon"}}
  {{else}}
    {{comparison-icon build=build}}
  {{/if}}
  <div class="f2 lh-1 text-weight-semibold">
    {{#if build.isPending}}
      Receiving build
    {{else if build.isProcessing}}
      Processing visual differences
    {{else if build.isFinished}}
      {{#if build.isApproved}}
        {{#if build.hasNoDiffs}}
          No visual diffs
        {{else}}
          All diffs approved
        {{/if}}
      {{else if build.hasDiffs}}
        {{pluralize build.totalSnapshotsUnreviewed "unreviewed change"}}
      {{/if}}
    {{else if build.isFailed}}
      This build has failed
    {{else if build.isExpired}}
      This build has expired
    {{/if}}
  </div>
</div>
<div class="f5 text-weight-semibold text-light">
  {{#if (or build.isPending build.isProcessing)}}
    Hang tight&hellip;
  {{else if build.isFinished}}
    <div>
      {{#if build.isApproved}}
        {{moment-from-now build.approvedAt interval=60000}}
      {{else}}
        in <span class="text-dark">{{build.totalSnapshots}}</span> total snapshots
      {{/if}}
    </div>
  {{else if build.isFailed}}
    <div>{{build.failureReasonHumanized}}</div>
  {{/if}}
</div>
